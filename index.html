<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Strong Lua Obfuscator</title>
<style>
body { font-family: monospace; margin: 20px; }
textarea { width: 100%; height: 200px; margin-bottom: 10px; }
button { padding: 10px; }
</style>
</head>
<body>
<h2>Strong Lua Obfuscator</h2>
<textarea id="input" placeholder="Paste Lua Script Here"></textarea>
<button id="obfuscate">Obfuscate</button>
<textarea id="output" placeholder="Obfuscated Lua will appear here" readonly></textarea>

<script>
// Convert Lua string to hex
function toHex(s){
  let out=[];
  for(let i=0;i<s.length;i++){
    out.push(s.charCodeAt(i).toString(16).padStart(2,'0'));
  }
  return out.join('');
}

// Split string into chunks
function chunk(str,size){
  let arr=[];
  for(let i=0;i<str.length;i+=size) arr.push(str.slice(i,i+size));
  return arr;
}

// Generate obfuscated Lua loader
function generateLoader(hex){
  const f='f',e='e',d='d',c='c',b='b',a='a';
  const dummy='do local x=7 for i=1,1 do end end';
  const chunks=chunk(hex,64);
  const chunkTable='local '+c+'={' + chunks.map(s=>'"'+s+'"').join(',') + '}';
  const hexFunc='local '+e+'=function('+d+')return('+d..':gsub("%x%x",function('+b+')return string.char(tonumber('+b+',16))end))end';
  const dummyVars='local '+a+'=1 local '+b+'=0 for '+d+'=1,#'+c+' do local '+f+'='+c+'['+d+'] ; '+a+'=('+a+'+0)%65521 ; '+b+'=('+b+'+'+a+')%65521 end';
  const rejoin='local '+d+'="" for '+f+'=1,#'+c+' do '+d+'='+d+'..'+c+'['+f+'] end';
  const exec='local fn=('+e+')('+d+') local ok,err=pcall(function() return loadstring and loadstring(fn) or load(fn) end) if not ok then game.Players.LocalPlayer:Kick("101") end return err()';

  return '-- Strong Obfuscated Lua Loader\nlocal '+f+'=670 '+dummy+'\n'+chunkTable+'\n'+hexFunc+'\n'+dummyVars+'\n'+rejoin+'\n'+exec;
}

document.getElementById('obfuscate').addEventListener('click',()=>{
  const input=document.getElementById('input').value;
  if(!input)return;
  const hex=toHex(input);
  const out=generateLoader(hex);
  document.getElementById('output').value=out;
});
</script>
</body>
</html>
