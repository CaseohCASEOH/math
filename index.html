<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Strong Roblox Lua Obfuscator</title>
<style>
body { font-family: sans-serif; background:#1e1e1e; color:#ddd; display:flex; flex-direction:column; align-items:center; padding:2em; }
textarea { width:80%; height:150px; margin-bottom:1em; background:#2e2e2e; color:#fff; border:none; padding:0.5em; resize:none; }
button { padding:0.5em 1em; margin:0.5em; cursor:pointer; }
#output { width:80%; height:200px; background:#111; color:#0f0; padding:0.5em; overflow:auto; white-space:pre-wrap; }
</style>
</head>
<body>
<h2>Strong Roblox Lua Obfuscator</h2>
<textarea id="input" placeholder="Paste your Lua code here..."></textarea>
<button onclick="obfuscate()">Obfuscate</button>
<button onclick="copyOutput()">Copy Output</button>
<div id="output"></div>

<script>
function randomVar(len = 6) {
    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
    let s = '';
    for(let i=0;i<len;i++) s += chars[Math.floor(Math.random()*chars.length)];
    return s;
}

function encodeString(str) {
    return str.split('').map(c=>'\\' + c.charCodeAt(0).toString().padStart(3,'0')).join('');
}

function obfuscate() {
    const code = document.getElementById('input').value;
    if(!code) return alert("Paste Lua code first!");

    // Split code lines
    let lines = code.split(/\r?\n/).map(l=>l.trim()).filter(l=>l.length>0);

    // Random vars
    let varName = randomVar();
    let arrName = randomVar();

    // Encode strings
    let encodedLines = lines.map(l => {
        return l.replace(/"(.*?)"/g, (m,p) => `"${encodeString(p)}"`);
    });

    // Add junk arithmetic and table encoding
    let junk1 = `${arrName}={};for i=1,${encodedLines.length} do ${arrName}[i]=${encodedLines[i-1]}; end`;
    let junk2 = `local ${varName}="";for i=1,#${arrName} do ${varName}=${varName}..${arrName}[i].."" end; loadstring(${varName})()`;

    document.getElementById('output').textContent = `--[[ Strong Obfuscated Lua ]] \n${junk1}\n${junk2}`;
}

function copyOutput() {
    const out = document.getElementById('output');
    navigator.clipboard.writeText(out.textContent).then(()=>alert('Copied!'));
}
</script>
</body>
</html>
